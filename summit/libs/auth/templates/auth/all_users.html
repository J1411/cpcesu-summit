{% extends 'base.html' %}
{% load static %}


{% block primary %}
<h1 style="text-align: center">Users Directory</h1>

<div>
    <a href="{% url 'summit.libs.auth2:summit.libs.auth2_Create Group' %}" class="btn btn-primary btn-sm m-0 waves-effect">Create Group</a>
    <a href="{% url 'summit.libs.auth2:summit.libs.auth2_Create User' %}" class="btn btn-primary btn-sm m-0 waves-effect">Create User</a>
</div>

<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th class="th-sm">#</th>
            <th class="th-sm">First Name</th>
            <th class="th-sm">Last Name</th>
            <th class="th-sm">Email</th>
            <th class="th-sm">Group</th>
            <th class="th-sm">Details</th>
        </tr>
    </thead>
    <tbody>
        {% for profile in query %}
        <tr>
            <th scope="row">{{ profile.id }}</th>
            <td>{{ profile.first_name }}</td>
            <td>{{ profile.last_name }}</td>
            <td>{{ profile.email_address }}</td>
            <td>{{ profile.assigned_group }}</td>
            <td>
                <a class="btn btn-outline-primary btn-sm m-0 waves-effect"
                href="{% url 'summit.libs.auth:view_profile_other' profile_id=profile.id %}">
                    View Profile
                </a>
                {% if profile.assigned_group != None %}
                <a href="{% url 'summit.libs.auth2:manage_group_other' group_id=profile.assigned_group.id %}" class="btn btn-outline-primary btn-sm m-0 waves-effect">Manage Group</a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
